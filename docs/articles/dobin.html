<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction to dobin • dobin</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to dobin">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">dobin</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/dobin.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Introduction to dobin</h1>
                        <h4 class="author">Sevvandi Kandanaarachchi</h4>
            
      
      
      <div class="hidden name"><code>dobin.Rmd</code></div>

    </div>

    
    
<p>DOBIN (Distance based Outlier BasIs using Neighbours) <span class="citation">(Kandanaarachchi and Hyndman 2019)</span> is an approach to select a set of basis vectors tailored for outlier detection. DOBIN has a strong mathematical foundation and can be used as a dimension reduction tool for outlier detection. The R package <strong>dobin</strong> computes this basis. The DOBIN basis is constructed so that the first basis vector is in the direction yielding the highest knn distance and the second basis vector is in the direction giving the second highest knn distance and so on. Details on the construction of DOBIN can be found <a href="https://www.researchgate.net/publication/335568867_Dimension_reduction_for_outlier_detection_using_DOBIN">here</a>.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install the development version from <a href="https://github.com/sevvandi/dobin">GitHub</a>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"> <span class="kw"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">"devtools"</span>)
 devtools<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/devtools/man/remote-reexports.html">install_github</a></span>(<span class="st">"sevvandi/dobin"</span>)</code></pre></div>
</div>
<div id="example" class="section level2">
<h2 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h2>
<p>We consider the dataset <em>Election2005</em> from the R package <em>mbgraphic</em> for our example. This dataset is discussed in <span class="citation">(Unwin 2019a)</span>. The figure below shows the space spanned by the first two DOBIN vectors. In this space we see that observation 84 is the most outlying observation followed by observations 76, 83, 82, 221, 21, 87 and 81.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">data &lt;-<span class="st"> </span>Election2005[, <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">6</span>, <span class="dv">10</span>, <span class="dv">17</span>, <span class="dv">28</span>)]
<span class="kw"><a href="https://rdrr.io/r/base/names.html">names</a></span>(data) &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"Area"</span>, <span class="st">"Population_density"</span>, <span class="st">"Birthrate"</span>, <span class="st">"Car_ownership"</span>)
out &lt;-<span class="st"> </span><span class="kw"><a href="../reference/dobin.html">dobin</a></span>(data, <span class="dt">frac=</span><span class="fl">0.9</span>, <span class="dt">norm=</span><span class="dv">3</span>)

labs &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/rep.html">rep</a></span>(<span class="st">"norm"</span>, <span class="kw"><a href="https://rdrr.io/r/base/dim.html">dim</a></span>(out<span class="op">$</span>coords)[<span class="dv">1</span>])
inds &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/which.html">which</a></span>(out<span class="op">$</span>coords[, <span class="dv">1</span>] <span class="op">&gt;</span><span class="st"> </span><span class="dv">5</span>)
labs[inds] &lt;-<span class="st"> "out"</span>
df &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span>(out<span class="op">$</span>coords[, <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>])
<span class="kw"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span>(df) &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"DC1"</span>, <span class="st">"DC2"</span>)
df2 &lt;-<span class="st"> </span>df[inds, ]
<span class="kw">ggplot</span>(df, <span class="kw">aes</span>(<span class="dt">x=</span>DC1,<span class="dt">y=</span>DC2)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">shape=</span>labs, <span class="dt">color=</span>labs), <span class="dt">size=</span><span class="dv">2</span> ) <span class="op">+</span><span class="st"> </span><span class="kw">geom_text</span>(<span class="dt">data=</span>df2, <span class="kw">aes</span>(DC1, DC2, <span class="dt">label =</span> inds), <span class="dt">nudge_x =</span> <span class="fl">0.5</span>) <span class="op">+</span><span class="st"> </span><span class="kw">theme_bw</span>()</code></pre></div>
<p><img src="dobin_files/figure-html/ex1_dobin-1.png" width="768"></p>
<p>As the first DOBIN vector is useful in distinguishing outliers we explore its coefficients.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">out<span class="op">$</span>vec[ ,<span class="dv">1</span>]
<span class="co">#&gt; [1]  0.008493392  0.997899717  0.040062008 -0.050190164</span></code></pre></div>
<p>We see that the second variable which is <em>population density</em> is the main contributor to outliers in this dataset. Next we draw the O3 plot using <em>OutliersO3</em> package <span class="citation">(Unwin 2019b)</span>. O3 plots are introduced in <span class="citation">(Unwin 2019a)</span>. The O3 plot can identify outliers by using 6 different outlier detection methods. Therefore, it acts as an ensemble method. In addition, it also identifies outliers in axes-parallel subspaces.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">data &lt;-<span class="st"> </span>Election2005[, <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">6</span>, <span class="dv">10</span>, <span class="dv">17</span>, <span class="dv">28</span>)]
<span class="kw"><a href="https://rdrr.io/r/base/names.html">names</a></span>(data) &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"Area"</span>, <span class="st">"Population_density"</span>, <span class="st">"Birthrate"</span>, <span class="st">"Car_ownership"</span>)
O3y &lt;-<span class="st"> </span><span class="kw">O3prep</span>(data, <span class="dt">method=</span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"HDo"</span>, <span class="st">"PCS"</span>, <span class="st">"BAC"</span>, <span class="st">"adjOut"</span>, <span class="st">"DDC"</span>, <span class="st">"MCD"</span>))
O3y1 &lt;-<span class="st"> </span><span class="kw">O3plotM</span>(O3y)
O3y1<span class="op">$</span>gO3</code></pre></div>
<p><img src="dobin_files/figure-html/ex1_o3-1.png" width="768"> The O3 plot is organised in such a way that the outlyingness of the observations increase to the right. The columns on the left indicate the variables, the columns on the right indicate the observations, the rows specify the axis parallel subspaces and the colours depict the number of methods that identify each observation in each subspace as an outlier. From this plot we see that observation <span class="math inline">\(X84\)</span> is identified as an outlier by <span class="math inline">\(5\)</span> methods in <span class="math inline">\(4\)</span> subspaces, <span class="math inline">\(4\)</span> methods in <span class="math inline">\(3\)</span> subspaces, <span class="math inline">\(3\)</span> methods in <span class="math inline">\(1\)</span> subspace and by <span class="math inline">\(1\)</span> method in <span class="math inline">\(1\)</span> subspace. <span class="math inline">\(X84\)</span> is arguably the most outlying observation in this dataset. The observations <span class="math inline">\(X83\)</span>, <span class="math inline">\(X76\)</span>, <span class="math inline">\(X82\)</span> are also identified as outliers by <span class="math inline">\(5\)</span> methods in the dimension of population density. They are also identified as outliers by multiple methods in different subspaces.</p>
<p>We see that DOBIN highlights the exact outliers identified by the O3 plot, in a space spanned by the first 2 DOBIN vectors. We note that this is a projection of the original space. More examples are discussed in <a href="https://www.researchgate.net/publication/335568867_Dimension_reduction_for_outlier_detection_using_DOBIN">our paper</a>.</p>
</div>
<div id="references" class="section level1 unnumbered">
<h1 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h1>
<div id="refs" class="references">
<div id="ref-dobin">
<p>Kandanaarachchi, Sevvandi, and Rob J Hyndman. 2019. “Dimension Reduction for Outlier Detection Using Dobin.” Working Paper. <a href="https://www.researchgate.net/publication/335568867_Dimension_reduction_for_outlier_detection_using_DOBIN" class="uri">https://www.researchgate.net/publication/335568867_Dimension_reduction_for_outlier_detection_using_DOBIN</a>.</p>
</div>
<div id="ref-unwin2019multivariate">
<p>Unwin, Antony. 2019a. “Multivariate Outliers and the O3 Plot.” <em>Journal of Computational and Graphical Statistics</em>. Taylor &amp; Francis, 1–11.</p>
</div>
<div id="ref-O3Rpack">
<p>———. 2019b. <em>OutliersO3: Draws Overview of Outliers (O3) Plots</em>. <a href="https://CRAN.R-project.org/package=OutliersO3" class="uri">https://CRAN.R-project.org/package=OutliersO3</a>.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#installation">Installation</a></li>
      <li><a href="#example">Example</a></li>
      <li><a href="#references">References</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Sevvandi Kandanaarachchi.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.0.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
